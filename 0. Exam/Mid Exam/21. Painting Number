numbers = input().split()
command = input()
 
while command != "END":
    commands = command.split()
    data = commands[0]
 
    if data == "Change":
        painting_number1 = commands[1]
        changed_number = commands[2]
        if painting_number1 in numbers:
            index = numbers.index(painting_number1)
            numbers[index] = changed_number
            
    elif data == "Hide":
        painting_number1 = commands[1]
        if painting_number1 in numbers:
            numbers.remove(painting_number1)
            
    elif data == "Switch":
        painting_number1 = commands[1]
        painting_number2 = commands[2]
        if painting_number1 in numbers and painting_number2 in numbers:
            painting1_index = numbers.index(painting_number1)
            painting2_index = numbers.index(painting_number2)
            numbers[painting1_index], numbers[painting2_index] = numbers[painting2_index], numbers[painting1_index]
            
    elif data == "Insert":
        index = int(commands[1])
        painting_number1 = commands[2]
        if index + 1 in range(len(numbers)):
            numbers.insert(index + 1, painting_number1)
            
    elif data == "Reverse":
        numbers.reverse()
 
    command = input()
 
print(" ".join(numbers))
